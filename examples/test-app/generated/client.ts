// Auto-generated by gsquery - DO NOT EDIT

import { createSheetsDB, MockAdapter, DataStore } from '@gsquery/core'
import type { Comment, Project, Task, User } from './types'

export type Tables = {
  Comment: Comment
  Project: Project
  Task: Task
  User: User
}

export const schema = {
  tables: {
    Comment: { columns: ['id', 'content', 'taskId', 'authorId', 'createdAt'] as const },
    Project: { columns: ['id', 'name', 'ownerId', 'status'] as const },
    Task: { columns: ['id', 'title', 'projectId', 'assigneeId', 'status', 'priority', 'dueDate'] as const },
    User: { columns: ['id', 'email', 'name', 'role'] as const }
  }
} as const

export function createDB(stores: {
  Comment: DataStore<Comment>
  Project: DataStore<Project>
  Task: DataStore<Task>
  User: DataStore<User>
}) {
  return createSheetsDB<Tables>({
    config: schema,
    stores
  })
}

export function createTestDB() {
  return createDB({
    Comment: new MockAdapter<Comment>(),
    Project: new MockAdapter<Project>(),
    Task: new MockAdapter<Task>(),
    User: new MockAdapter<User>()
  })
}